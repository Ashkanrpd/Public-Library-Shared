(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(11),i=a.n(s),l=a(5),o=a(50),u=a(72),m=a(71),p={items:[],categories:[],actionItem:void 0};var d={loggedIn:!1,name:void 0,username:void 0,userId:void 0,redirectPath:""};var E={searchQ:{},selectedCategory:void 0,categoriesOpen:!0,language:"en"};var v=Object(m.a)(u.a,{base:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS":return e.items=t.items,e;case"GET_CATEGORIES":return e.categories=t.categories,e;case"ACTION_ITEM":return e.actionItem=t.item,e;case"ITEM-UPDATED":return-1===(n=e.items.findIndex((function(e){return e._id===t.item._id})))||(e.items[n]=t.item,e.actionItem=t.item),e;default:return e}},session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return e.username=t.username,e.loggedIn=!0,e.name=t.name,e.userId=t.userId,e;case"LOGOUT":return e.username="",e.loggedIn=!1,e.name="",e.userId=void 0,e.selectedCategory=void 0,e.categoriesOpen=!0,e.searchQ={},e;case"REDIRECT-PATH":return e.redirectPath=t.path,e;default:return e}},option:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return e.searchQ=t.searchQ,e;case"SELECTED_CATEGORY":return e.selectedCategory=t.category,e.searchQ.input="",e;case"RESET-SEARCH":return e.selectedCategory=t.category,e.searchQ={},e;case"CATEGORIES-OPEN":return e.categoriesOpen=!0,e;case"CATEGORIES-CLOSE":return e.categoriesOpen=!1,e;case"CHANGE-LANGUAGE":return e.language=t.language,e;default:return e}}}),b=Object(o.b)(v,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),f=(a(91),a(3)),g=a.n(f),h=a(10),O=a(8),N=a(39),x=(a(93),a(15)),y=a(6);function j(e){var t=Object(l.b)(),a=Object(N.e)(),n=function(){var n=Object(h.a)(g.a.mark((function n(){var r,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/logout");case 2:return r=n.sent,n.next=5,r.text();case 5:c=n.sent,JSON.parse(c).success&&(t({type:"LOGOUT"}),e.onLogout(),a.push("/"));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){n()}),[]),c.a.createElement("div",null)}function S(){var e=Object(y.b)().i18n,t=Object(l.c)((function(e){return e.option.language})),a=Object(l.b)();return Object(r.useEffect)((function(){e.changeLanguage(t)}),[t]),"fr"===t?c.a.createElement("button",{onClick:function(){return a({type:"CHANGE-LANGUAGE",language:"en"})},className:"logout-btn"},"English"):c.a.createElement("button",{onClick:function(){return a({type:"CHANGE-LANGUAGE",language:"fr"})},className:"logout-btn"},"Fran\xe7ais")}function I(){var e=Object(y.b)().t,t=Object(l.c)((function(e){return e.session.loggedIn})),a=Object(l.c)((function(e){return e.session.userId})),n=Object(l.c)((function(e){return e.session.name})),s=Object(r.useState)(!1),i=Object(x.a)(s,2),o=i[0],u=i[1];return t?c.a.createElement("div",{className:"Navbar"},c.a.createElement(O.b,{to:"/profile/"+a},e("Navbar.3")," ",n," "),c.a.createElement("button",{onClick:function(){return u(!0)},className:"logout-btn"},e("Navbar.4")),c.a.createElement(S,null),o&&c.a.createElement(j,{onLogout:function(){return u(!1)}})):c.a.createElement("div",{className:"Navbar"},c.a.createElement(O.b,{to:"/Login"},e("Navbar.1")),c.a.createElement(O.b,{to:"/SignUp"},e("Navbar.2")),c.a.createElement(S,null))}function w(){var e=Object(y.b)().t;return c.a.createElement("div",{className:"PoweredBy"},e("PoweredBy"))}function C(){var e=Object(y.b)().t;return c.a.createElement(O.b,{to:"/"},c.a.createElement("img",{src:e("logo"),alt:"",className:"logo"}))}var k=a(9);function T(){var e=Object(y.b)().t,t=Object(l.b)(),a=Object(N.e)(),n=Object(r.useState)({input:"",searchOn:"title"}),s=Object(x.a)(n,2),i=s[0],o=s[1];return c.a.createElement("div",{className:"search"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({type:"SEARCH",searchQ:i}),o(Object(k.a)(Object(k.a)({},i),{},{input:""})),a.push("/ItemsList")},className:"search-contents"},c.a.createElement("span",null,e("Search.search"),":"),c.a.createElement("input",{className:"input",type:"text",value:i.input,placeholder:e("Search.placeHolder"),onChange:function(e){return o(Object(k.a)(Object(k.a)({},i),{},{input:e.target.value}))}}),c.a.createElement("select",{className:"select",onChange:function(e){return o(Object(k.a)(Object(k.a)({},i),{},{searchOn:e.target.value}))}},c.a.createElement("option",{value:"title"},e("Search.title")),c.a.createElement("option",{value:"authors"},e("Search.author")),c.a.createElement("option",{value:"longDescription"},e("Search.des"))),c.a.createElement("button",{type:"submit",className:"btn"},e("Search.submit"))))}function D(){var e=Object(y.b)().t;return c.a.createElement("div",{className:"MenuBar"},c.a.createElement(O.b,{to:"/"},e("MenuBar.1")),c.a.createElement(O.b,{to:"/ItemsList"}," ",e("MenuBar.2")),c.a.createElement(O.b,{to:"/Services"}," ",e("MenuBar.3")),c.a.createElement(O.b,{to:"/Events"}," ",e("MenuBar.4")),c.a.createElement(O.b,{to:"/Contact-Us"}," ",e("MenuBar.5")))}function A(){var e=Object(y.b)().t;return c.a.createElement("div",{className:"HomeContents"},c.a.createElement("div",{className:"home-ps"},c.a.createElement("div",null,c.a.createElement("div",{className:"header"}," ",e("HomeContents.header1")),c.a.createElement("p",null,e("HomeContents.p1"))),c.a.createElement("div",null,c.a.createElement("div",{className:"header"}," ",e("HomeContents.header2")),c.a.createElement("p",null,e("HomeContents.p2")," "))),c.a.createElement("div",{className:"home-InfoBar"},c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://dailyhive.com/montreal/quebec-rainbows-postivie-campaign",className:"covid"},c.a.createElement("img",{src:e("HomeContents.cvba-img"),alt:""}),c.a.createElement("p",null,e("HomeContents.box1"))),c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.ctvnews.ca/health/coronavirus/eight-essential-tips-for-working-from-home-during-the-coronavirus-pandemic-1.4874662",className:"covid"},c.a.createElement("img",{src:"/images/covid.jpg",alt:""}),c.a.createElement("p",null,e("HomeContents.box2")))))}function P(){return c.a.createElement("div",{className:"Home"},c.a.createElement(T,null),c.a.createElement(D,null),c.a.createElement("img",{src:"/images/bg.jpg",alt:"",className:"bg"}),c.a.createElement(A,null))}var L=a(52),_=a.n(L),R=a(53),U=a(154),G=a(152),H=a(149);function F(e){return c.a.createElement(G.a,Object.assign({elevation:6,variant:"filled"},e))}var M=Object(H.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function B(e){var t=M(),a=function(t,a){"clickaway"!==a&&e.onClose()};return c.a.createElement("div",{className:t.root},c.a.createElement(U.a,{open:e.isOpen,autoHideDuration:6e3,onClose:a},c.a.createElement(F,{onClose:a,severity:e.severity},e.msg)))}function J(){var e=Object(y.b)().t,t=Object(l.b)(),a=Object(N.e)(),n=Object(l.c)((function(e){return e.session.redirectPath})),s={email:"",password:""},i=Object(r.useState)(s),o=Object(x.a)(i,2),u=o[0],m=o[1],p={isOpen:!1,msg:"",severity:""},d=Object(r.useState)(p),E=Object(x.a)(d,2),v=E[0],b=E[1],f=function(){var e=Object(h.a)(g.a.mark((function e(r){var c,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("user",JSON.stringify(r)),e.next=4,fetch("/login",{method:"POST",body:c});case 4:return s=e.sent,e.next=7,s.text();case 7:if(i=e.sent,!(i=JSON.parse(i)).success){e.next=18;break}return e.next=12,t({type:"LOGIN",username:i.email,name:i.name,userId:i.id});case 12:if(!n){e.next=16;break}return a.push(n),t({type:"REDIRECT-PATH",path:""}),e.abrupt("return");case 16:return a.push("/"),e.abrupt("return");case 18:b({isOpen:!0,msg:i.msg,severity:"error"});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.email){e.next=2;break}return e.abrupt("return");case 2:a={email:t.email,password:t.id},m(a),f(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={email:t.profileObj.email,password:t.googleId},m(a),f(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"Login"},c.a.createElement("div",{className:"pageTitle"},e("Login.pageTitle")),c.a.createElement("div",{className:"pageContents"},c.a.createElement("div",{className:"FB-G-Section"},c.a.createElement("h3",null,e("Login.box1-title")),c.a.createElement("div",{className:"Details1"},c.a.createElement(_.a,{appId:"2746486032249962",autoLoad:!0,fields:"name,email,picture",callback:j,icon:"fa-facebook",textButton:e("Login.fb-text")}),c.a.createElement("div",null,"or"),c.a.createElement(R.GoogleLogin,{clientId:"861881219100-cf845ku9ogtd8sho9ce7b25pdst93lts.apps.googleusercontent.com",buttonText:e("Login.g-text"),onSuccess:S,onFailure:S,cookiePolicy:"single_host_origin"}))),c.a.createElement("div",{className:"emailSection"},c.a.createElement("h3",null,e("Login.box2-title")," "),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f(u)}},c.a.createElement("div",null,"Email:"),c.a.createElement("input",{type:"email",onChange:function(e){return m(Object(k.a)(Object(k.a)({},u),{},{email:e.target.value}))}}),c.a.createElement("div",null,e("Login.pass"),":"),c.a.createElement("input",{type:"password",onChange:function(e){return m(Object(k.a)(Object(k.a)({},u),{},{password:e.target.value}))}}),c.a.createElement("div",null,c.a.createElement("button",{type:"submit",className:"submit"}," ",e("Login.submit")),c.a.createElement("button",{onClick:function(){m(s),a.push("/")},className:"submit"},e("Login.cancel")))),c.a.createElement("div",{className:"redirect-link"},e("Login.new-member"),c.a.createElement(O.b,{to:"/SignUp"},e("Login.start-here"))))),v.isOpen&&c.a.createElement(B,{isOpen:v.isOpen,msg:v.msg,severity:v.severity,onClose:function(){return b(p)}}))}function Q(){var e=Object(y.b)().t,t=Object(l.b)(),a=Object(N.e)(),n=Object(l.c)((function(e){return e.session.redirectPath})),s={name:"",email:"",password:"",confirmPassword:"",image:""},i=Object(r.useState)(s),o=Object(x.a)(i,2),u=o[0],m=o[1],p={isOpen:!1,msg:"",severity:""},d=Object(r.useState)(p),E=Object(x.a)(d,2),v=E[0],b=E[1],f=function(){var r=Object(h.a)(g.a.mark((function r(c){var i,l,o;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.email){r.next=2;break}return r.abrupt("return");case 2:if(c.password===c.confirmPassword){r.next=5;break}return b({isOpen:!0,msg:e("Signup.pass-not-match"),severity:"error"}),r.abrupt("return");case 5:return(i=new FormData).append("user",JSON.stringify(c)),r.next=9,fetch("/signup",{method:"POST",body:i});case 9:return l=r.sent,r.next=12,l.text();case 12:if(o=r.sent,!(o=JSON.parse(o)).success){r.next=23;break}return r.next=17,t({type:"LOGIN",username:o.email,name:o.name,userId:o.id});case 17:if(!n){r.next=21;break}return a.push(n),t({type:"REDIRECT-PATH",path:""}),r.abrupt("return");case 21:return a.push("/"),r.abrupt("return");case 23:return b({isOpen:!0,msg:o.msg,severity:"error"}),m(s),r.abrupt("return");case 26:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),j=function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.email){e.next=2;break}return e.abrupt("return");case 2:a={name:t.name,email:t.email,password:t.id,confirmPassword:t.id,image:t.picture.data.url},m(a),f(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={name:t.profileObj.name,email:t.profileObj.email,password:t.googleId,confirmPassword:t.googleId,image:t.profileObj.imageUrl},m(a),f(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"SignUp"},c.a.createElement("div",{className:"pageTitle"},e("Signup.pageTitle")),c.a.createElement("div",{className:"pageContents"},c.a.createElement("div",{className:"FB-G-Section"},c.a.createElement("h3",null,e("Signup.box1-title")),c.a.createElement("div",{className:"Details1"},c.a.createElement(_.a,{appId:"2746486032249962",autoLoad:!0,fields:"name,email,picture",callback:j,icon:"fa-facebook",textButton:e("Signup.fb-text")}),c.a.createElement("div",null,"or"),c.a.createElement(R.GoogleLogin,{clientId:"861881219100-cf845ku9ogtd8sho9ce7b25pdst93lts.apps.googleusercontent.com",buttonText:e("Signup.g-text"),onSuccess:S,onFailure:S,cookiePolicy:"single_host_origin"}))),c.a.createElement("div",{className:"emailSection"},c.a.createElement("h3",null," ",e("Signup.box2-title")),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f(u)}},c.a.createElement("div",null,e("Signup.full-name"),":"),c.a.createElement("input",{type:"text",onChange:function(e){return m(Object(k.a)(Object(k.a)({},u),{},{name:e.target.value}))},required:!0}),c.a.createElement("div",null,"Email:"),c.a.createElement("input",{type:"email",onChange:function(e){return m(Object(k.a)(Object(k.a)({},u),{},{email:e.target.value}))},required:!0}),c.a.createElement("div",null,e("Signup.pass"),":"),c.a.createElement("input",{type:"password",onChange:function(e){return m(Object(k.a)(Object(k.a)({},u),{},{password:e.target.value}))},required:!0}),c.a.createElement("div",null,e("Signup.confirm-pass"),":"),c.a.createElement("input",{type:"password",onChange:function(e){return m(Object(k.a)(Object(k.a)({},u),{},{confirmPassword:e.target.value}))},required:!0}),c.a.createElement("div",null,c.a.createElement("button",{type:"submit",className:"submit"},e("Signup.submit")),c.a.createElement("button",{onClick:function(){m(s),a.push("/")},className:"submit"},e("Signup.cancel")))),c.a.createElement("div",{className:"redirect-link"},e("Signup.already-member"),c.a.createElement(O.b,{to:"/Login"},e("Signup.start-here"))))),v.isOpen&&c.a.createElement(B,{isOpen:v.isOpen,msg:v.msg,severity:v.severity,onClose:function(){return b(p)}}))}var q=a(51),Y=a(7),X=a(151),V=a(150),z=a(155),K=a(156),W=Object(H.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0,marginTop:"40px"},drawerPaper:{position:"inherit",left:"9%",width:240},drawerHeader:Object(k.a)(Object(k.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})}}));function Z(){var e=Object(y.b)().t,t=Object(l.c)((function(e){return e.base.categories})),a=Object(l.c)((function(e){return e.option.categoriesOpen})),n=Object(l.b)(),s=W(),i=function(){var e=Object(h.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/categories");case 2:return t=e.sent,e.next=5,t.text();case 5:if(a=e.sent,!(a=JSON.parse(a)).success){e.next=11;break}return e.next=10,n({type:"GET_CATEGORIES",categories:a.categories});case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(h.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n({type:"SELECTED_CATEGORY",category:a});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i()}),[]),c.a.createElement(X.a,{className:s.drawer,variant:"persistent",open:a,classes:{paper:s.drawerPaper}},c.a.createElement("h3",{className:"red ml10"},e("Categories")),c.a.createElement(V.a,null,t.map((function(e,t){return c.a.createElement(z.a,{key:t},c.a.createElement(K.a,{primary:e,onClick:function(t){n({type:"CATEGORIES-CLOSE"}),o(t,e)},style:{cursor:"pointer"}}))}))))}function $(e){var t=Object(y.b)().t;return c.a.createElement("div",{className:"resposive"},c.a.createElement("div",{className:"gallery"},c.a.createElement("div",null," ",e.item.title),c.a.createElement("img",{src:e.item.thumbnailUrl,alt:""}),c.a.createElement("div",{className:"des"},e.item.authors.map((function(t,a){return c.a.createElement("span",{key:a},t,e.item.authors.length>0&&a+1!==e.item.authors.length&&",")}))),e.item.availability?c.a.createElement("div",{className:"green left bottom"},t("FilteredItems.Item-available")):c.a.createElement("div",{className:"red left bottom"},t("FilteredItems.Item-unavailable")),c.a.createElement(O.b,{to:"/Item-Details/"+e.item._id,className:"bottom right blue"},t("FilteredItems.more"))))}function ee(){var e=Object(y.b)().t,t=Object(l.c)((function(e){return e.option.searchQ})),a=Object(l.c)((function(e){return e.base.items})),n=Object(l.c)((function(e){return e.option.selectedCategory})),s=Object(l.c)((function(e){return e.option.categoriesOpen})),i=Object(l.b)(),o=Object(r.useRef)([]),u=a.filter((function(e){return(!t.searchOn||function(e){return"authors"===t.searchOn?e[t.searchOn].find((function(e){return e.toLowerCase().includes(t.input.toLowerCase())})):e[t.searchOn]&&e[t.searchOn].toLowerCase().includes(t.input.toLowerCase())}(e))&&(!n||function(e){return e.categories.map((function(e){return e.toUpperCase()})).includes(n)}(e))}));return 0===o.current.length&&(o.current=a.slice().sort((function(){return Math.random()-Math.random()})).slice(0,21)),c.a.createElement("div",null,c.a.createElement("span",{className:"pageTitle"},n,n&&t.input&&" + ",t.input&&t.input.toUpperCase(),!n&&!t.input&&c.a.createElement("span",null,e("RenderItems.recenlty-added"))),c.a.createElement("button",{onClick:function(){i({type:"RESET-SEARCH"}),i({type:"CATEGORIES-OPEN"})},className:"reset"},e("RenderItems.reset-search")),s?c.a.createElement("button",{onClick:function(){i({type:"CATEGORIES-CLOSE"})},className:"reset cats"},e("RenderItems.hide-categories")):c.a.createElement("button",{onClick:function(){i({type:"CATEGORIES-OPEN"})},className:"reset cats"},e("RenderItems.show-categories")),c.a.createElement("div",{className:"RenderItems"},u.length<1?c.a.createElement("div",null," ",e("RenderItems.no-match")):(n||t.input?u:o.current).map((function(e){return c.a.createElement($,{item:e,key:e._id})}))))}var te=Object(H.a)((function(e){return{content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function ae(){var e=Object(l.c)((function(e){return e.option.categoriesOpen})),t=te();return c.a.createElement("div",{className:"ItemsList"},c.a.createElement(T,null),c.a.createElement("div",{className:"display"},c.a.createElement(Z,null),c.a.createElement("div",{className:Object(Y.a)(t.content,Object(q.a)({},t.contentShift,e))},c.a.createElement(ee,null)," ")))}function ne(){var e=Object(y.b)().t,t=Object(l.c)((function(e){return e.session.userId})),a=Object(l.c)((function(e){return e.session.loggedIn})),n=Object(l.c)((function(e){return e.base.actionItem})),s=Object(l.b)(),i={isOpen:!1,msg:"",severity:""},o=Object(r.useState)(i),u=Object(x.a)(o,2),m=u[0],p=u[1],d=function(){var t=Object(h.a)(g.a.mark((function t(){var r,i,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",p({isOpen:!0,msg:c.a.createElement("div",null,e("ItemActions.you-should")," ",c.a.createElement(O.b,{to:"/Login",onClick:function(){return s({type:"REDIRECT-PATH",path:"/Item-Details/"+n._id})}},e("ItemActions.login"))," ",e("ItemActions.first"),"!"),severity:"error"}));case 2:return(r=new FormData).append("id",n._id),t.next=6,fetch("/borrow",{method:"POST",body:r});case 6:return i=t.sent,t.next=9,i.text();case 9:if(l=t.sent,!(l=JSON.parse(l)).success){t.next=16;break}return p({isOpen:!0,msg:l.msg,severity:"success"}),t.next=15,s({type:"ITEM-UPDATED",item:l.book});case 15:return t.abrupt("return");case 16:p({isOpen:!0,msg:l.msg,severity:"error"});case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(h.a)(g.a.mark((function t(){var r,i,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",p({isOpen:!0,msg:c.a.createElement("div",null,e("ItemActions.you-should")," ",c.a.createElement(O.b,{to:"/Login",onClick:function(){return s({type:"REDIRECT-PATH",path:"/Item-Details/"+n._id})}},e("ItemActions.login"))," ",e("ItemActions.first"),"!"),severity:"error"}));case 2:return(r=new FormData).append("id",n._id),r.append("borrowedDate",n.borrowedDate),t.next=7,fetch("/return",{method:"POST",body:r});case 7:return i=t.sent,t.next=10,i.text();case 10:if(l=t.sent,!(l=JSON.parse(l)).success){t.next=17;break}return p({isOpen:!0,msg:l.msg,severity:"success"}),t.next=16,s({type:"ITEM-UPDATED",item:l.book});case 16:return t.abrupt("return");case 17:p({isOpen:!0,msg:l.msg,severity:"error"});case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=Object(h.a)(g.a.mark((function t(){var r,i,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",p({isOpen:!0,msg:c.a.createElement("div",null,e("ItemActions.you-should")," ",c.a.createElement(O.b,{to:"/Login",onClick:function(){return s({type:"REDIRECT-PATH",path:"/Item-Details/"+n._id})}},e("ItemActions.login"))," ",e("ItemActions.first"),"!"),severity:"error"}));case 2:if(!n.availability){t.next=4;break}return t.abrupt("return",alert("Can't reserve an available item!"));case 4:return(r=new FormData).append("id",n._id),t.next=8,fetch("/reserve",{method:"POST",body:r});case 8:return i=t.sent,t.next=11,i.text();case 11:if(l=t.sent,!(l=JSON.parse(l)).success){t.next=18;break}return p({isOpen:!0,msg:l.msg,severity:"success"}),t.next=17,s({type:"ITEM-UPDATED",item:l.book});case 17:return t.abrupt("return");case 18:p({isOpen:!0,msg:l.msg,severity:"error"});case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(h.a)(g.a.mark((function t(){var r,i,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",p({isOpen:!0,msg:c.a.createElement("div",null,e("ItemActions.you-should")," ",c.a.createElement(O.b,{to:"/Login",onClick:function(){return s({type:"REDIRECT-PATH",path:"/Item-Details/"+n._id})}},e("ItemActions.login"))," ",e("ItemActions.first"),"!"),severity:"error"}));case 2:return(r=new FormData).append("id",n._id),t.next=6,fetch("/cancelReserve",{method:"POST",body:r});case 6:return i=t.sent,t.next=9,i.text();case 9:if(l=t.sent,!(l=JSON.parse(l)).success){t.next=16;break}return p({isOpen:!0,msg:l.msg,severity:"success"}),t.next=15,s({type:"ITEM-UPDATED",item:l.book});case 15:return t.abrupt("return");case 16:p({isOpen:!0,msg:l.msg,severity:"error"});case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",null," ",n.availability?c.a.createElement("div",{className:"ItemActions"},c.a.createElement("div",null,c.a.createElement("span",{className:"field"},e("ItemActions.available"),":"),c.a.createElement("span",{className:"green"},e("ItemActions.yes"))),c.a.createElement("button",{onClick:function(){return d()},className:"b-btn"}," ",e("ItemActions.borrow")," ")):c.a.createElement("div",{className:"ItemActions"},c.a.createElement("div",null,c.a.createElement("span",{className:"field"},e("ItemActions.available"),":"),c.a.createElement("span",{className:"red"},e("ItemActions.no")),c.a.createElement("span",{className:"hint"},"(",e("ItemActions.people-on-list"),":"," ",n.reservations.length,")")," "),n.borrower===t&&c.a.createElement("button",{onClick:function(){return E()},className:"r-btn"},e("ItemActions.return")),!n.reservations.includes(t)&&!(n.borrower===t)&&c.a.createElement("button",{onClick:function(){return v()},className:"r-btn"},e("ItemActions.reserve")),n.reservations.includes(t)&&c.a.createElement("button",{onClick:function(){return b()},className:"r-btn"},e("ItemActions.cancel-reserve"))),m.isOpen&&c.a.createElement(B,{isOpen:m.isOpen,msg:m.msg,severity:m.severity,onClose:function(){return p(i)}}))}function re(){var e=Object(y.b)().t,t=Object(l.c)((function(e){return e.base.actionItem})),a=Object(l.b)(),n=Object(N.f)().itemId,s=function(){var e=Object(h.a)(g.a.mark((function e(){var t,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/item?id="+n);case 2:return t=e.sent,e.next=5,t.text();case 5:if(r=e.sent,!(r=JSON.parse(r)).success){e.next=10;break}return a({type:"ACTION_ITEM",item:r.item}),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[]),t?c.a.createElement("div",{className:"ItemDetails",key:t._id},c.a.createElement("div",{className:"pageTitle"},e("ItemDetails.pageTitle")),c.a.createElement("div",{className:"ItemDetails-contents"},c.a.createElement("div",null,c.a.createElement("img",{src:t.thumbnailUrl,alt:"",width:"250px",height:"300px"})),c.a.createElement("div",{className:"ItemDetails-contents-2"},c.a.createElement("div",null,c.a.createElement("span",{className:"field"},"Code:"),c.a.createElement("span",null," ",t.isbn)," "),c.a.createElement("div",null,c.a.createElement("span",{className:"field"},e("ItemDetails.title"),":")," ",c.a.createElement("span",null," ",t.title)),c.a.createElement("div",null,c.a.createElement("span",{className:"field"},e("ItemDetails.author"),"(s): "),t.authors.map((function(e,a){return c.a.createElement("span",{key:a},e,t.authors.length>0&&a+1!==t.authors.length&&", ")}))),c.a.createElement("div",null,c.a.createElement("span",{className:"field"},"Pages:"),c.a.createElement("span",null," ",t.pageCount)),c.a.createElement("div",null,c.a.createElement("span",{className:"field"},e("ItemDetails.categories"),":"),t.categories.map((function(e){return c.a.createElement("span",null,e)}))),t.publishedDate.date&&c.a.createElement("div",null,c.a.createElement("span",{className:"field"},e("ItemDetails.p-date"),": "),c.a.createElement("span",null,new Date(t.publishedDate.date).toLocaleDateString())),c.a.createElement(ne,null))),t.shortDescription&&c.a.createElement("div",null,c.a.createElement("div",{className:"field"},e("ItemDetails.short-des"),":"),c.a.createElement("div",{className:"desc"}," ",t.shortDescription)),t.longDescription&&c.a.createElement("div",null,c.a.createElement("div",{className:"field"},e("ItemDetails.long-des"),":"),c.a.createElement("div",{className:"desc"}," ",t.longDescription))):c.a.createElement("div",{className:"ItemDetails"},"Item Not Found!")}function ce(){var e=Object(y.b)().t,t=Object(l.c)((function(e){return e.session.loggedIn})),a=Object(r.useState)(),n=Object(x.a)(a,2),s=n[0],i=n[1],o=Object(r.useState)([]),u=Object(x.a)(o,2),m=u[0],p=u[1],d=Object(r.useState)([]),E=Object(x.a)(d,2),v=E[0],b=E[1],f=Object(r.useState)([]),N=Object(x.a)(f,2),j=N[0],S=N[1],I={isOpen:!1,msg:"",severity:""},w=Object(r.useState)(I),C=Object(x.a)(w,2),k=C[0],T=C[1],D=function(){var e=Object(h.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/profile");case 2:return t=e.sent,e.next=5,t.text();case 5:if(a=e.sent,!(a=JSON.parse(a)).success){e.next=13;break}return i(a.user),p(a.itemsHistory),b(a.itemsToReturn),S(a.reservedItems),e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e){var t=new Date(e),a=t.getUTCMonth()+1,n=t.getUTCDate();return t.getUTCFullYear()+"/"+a+"/"+n},P=function(){var e=Object(h.a)(g.a.mark((function e(a,n){var r,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",T({isOpen:!0,msg:"You Should Login First!",severity:"error"}));case 2:return(r=new FormData).append("id",a),r.append("borrowedDate",n),e.next=7,fetch("/return",{method:"POST",body:r});case 7:return c=e.sent,e.next=10,c.text();case 10:if(s=e.sent,!(s=JSON.parse(s)).success){e.next=16;break}return T({isOpen:!0,msg:s.msg,severity:"success"}),D(),e.abrupt("return");case 16:T({isOpen:!0,msg:s.msg,severity:"error"});case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(h.a)(g.a.mark((function e(a){var n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",T({isOpen:!0,msg:"You Should Login First!",severity:"error"}));case 2:return(n=new FormData).append("id",a),e.next=6,fetch("/cancelReserve",{method:"POST",body:n});case 6:return r=e.sent,e.next=9,r.text();case 9:if(c=e.sent,!(c=JSON.parse(c)).success){e.next=15;break}return T({isOpen:!0,msg:c.msg,severity:"success"}),D(),e.abrupt("return");case 15:T({isOpen:!0,msg:c.msg,severity:"error"});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){D()}),[]),s?c.a.createElement("div",{className:"Profile"},c.a.createElement("div",{className:"pageTitle"},e("Profile.pageTitle")),c.a.createElement("div",{className:"user-info"},c.a.createElement("img",{src:s.img,width:"100px",height:"100px",alt:""}),c.a.createElement("div",null,c.a.createElement("div",{className:"profile-title"},e("Profile.name"),": ",s.name),c.a.createElement("div",null,c.a.createElement("div",{className:"profile-title"},"Email: ",s.email)))),0===m.length&&0===v.length&&0===j.length&&c.a.createElement("div",{className:"nothingToShow"},e("Profile.nothing-to-show"),"!"),c.a.createElement("div",{className:"tables"},0===m.length?c.a.createElement("div",null):c.a.createElement("table",null,c.a.createElement("caption",null,e("Profile.items-history")),c.a.createElement("tr",null,c.a.createElement("th",{className:"th1"},"ISBN"),c.a.createElement("th",{className:"th2"},e("Profile.title")),c.a.createElement("th",{className:"th3"},e("Profile.b-date")),c.a.createElement("th",{className:"th4"},e("Profile.r-date"))),m.map((function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(O.b,{to:"/Item-Details/"+e._id},e.isbn)),c.a.createElement("td",null,c.a.createElement(O.b,{to:"/Item-Details/"+e._id},e.title)),c.a.createElement("td",null,A(e.borrowedDate)),c.a.createElement("td",null,A(e.returnedDate)))}))),0===v.length?c.a.createElement("div",null):c.a.createElement("table",null,c.a.createElement("caption",null,e("Profile.items-to-return")),c.a.createElement("tr",null,c.a.createElement("th",{className:"th1"},"ISBN"),c.a.createElement("th",{className:"th2"},e("Profile.title")),c.a.createElement("th",{className:"th3"},e("Profile.b-date")),c.a.createElement("th",{className:"th4"},e("Profile.return?"))),v.map((function(t){return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(O.b,{to:"/Item-Details/"+t._id},t.isbn)),c.a.createElement("td",null,c.a.createElement(O.b,{to:"/Item-Details/"+t._id},t.title)),c.a.createElement("td",null,A(t.borrowedDate)),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){return P(t.itemId,t.borrowedDate)},className:"green-btn"},e("Profile.return"))))}))),0===j.length?c.a.createElement("div",null):c.a.createElement("table",null,c.a.createElement("caption",null,e("Profile.reserved-items")),c.a.createElement("tr",null,c.a.createElement("th",{className:"th1"},"ISBN"),c.a.createElement("th",{className:"th2"},e("Profile.title")),c.a.createElement("th",{className:"th3"},e("Profile.estimate")),c.a.createElement("th",{className:"th4"},e("Profile.cancel-reserve"),"?")),j.map((function(t){return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(O.b,{to:"/Item-Details/"+t._id},t.isbn)),c.a.createElement("td",null,c.a.createElement(O.b,{to:"/Item-Details/"+t._id},t.title)),c.a.createElement("td",null,A(t.estimatedAvailability)),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){return L(t.itemId)},className:"green-btn"},e("Profile.cancel"))))})))),k.isOpen&&c.a.createElement(B,{isOpen:k.isOpen,msg:k.msg,severity:k.severity,onClose:function(){return T(I)}})):c.a.createElement("div",{className:"Profile"})}var se=a(58),ie={};var le=Object(se.GoogleApiWrapper)({apiKey:""})((function(e){return c.a.createElement("div",{className:"map-wrapper"},c.a.createElement(se.Map,{google:e.google,zoom:17,style:ie,initialCenter:{lat:45.494613,lng:-73.577369}},c.a.createElement(se.Marker,{position:{lat:45.494613,lng:-73.577369}})))}));function oe(){var e={name:"",email:"",phone:"",message:""},t=Object(r.useState)(e),a=Object(x.a)(t,2),n=a[0],s=a[1],i={isOpen:!1,msg:"",severity:""},l=Object(r.useState)(i),o=Object(x.a)(l,2),u=o[0],m=o[1],p=Object(y.b)().t,d=function(){var t=Object(h.a)(g.a.mark((function t(a){var r,c,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(r=new FormData).append("contact",JSON.stringify(n)),t.next=5,fetch("/contact",{method:"POST",body:r});case 5:return c=t.sent,t.next=8,c.text();case 8:if(i=t.sent,!(i=JSON.parse(i)).success){t.next=14;break}return s(e),m({isOpen:!0,msg:i.msg,severity:"success"}),t.abrupt("return");case 14:return m({isOpen:!0,msg:i.msg,severity:"error"}),t.abrupt("return");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"ContactUs"},c.a.createElement(T,null),c.a.createElement("div",{className:"pageTitle"},p("ContactUs.pageTitle")),c.a.createElement("div",{className:"contactUs-contents"},c.a.createElement("div",{className:"address"},c.a.createElement("div",null,c.a.createElement("div",{className:"title"},p("ContactUs.call-us"),": "),c.a.createElement("div",{className:"text"},"514-848-2424, ",p("ContactUs.ext")," 2676, 2609, 2608"),c.a.createElement("div",{className:"title"},p("ContactUs.email-us"),": "),c.a.createElement("div",{className:"text"},"public.library@concordia.ca"),c.a.createElement("div",{className:"title"},p("ContactUs.mailing-address"),": "),c.a.createElement("div",{className:"text"},p("ContactUs.public-library")),c.a.createElement("div",{className:"text"},p("ContactUs.address")),c.a.createElement("div",{className:"text"},p("ContactUs.city")),c.a.createElement("div",{className:"text"},"H2Z 3F4 ")),c.a.createElement(le,null)),c.a.createElement("form",{className:"contact-form",onSubmit:d},c.a.createElement("div",{className:"title"},p("ContactUs.fields-listed-in")," ",c.a.createElement("span",{className:"red"},p("ContactUs.red"))," ",p("ContactUs.are-mandatory")),c.a.createElement("div",null,p("ContactUs.name"),":"),c.a.createElement("input",{type:"text",value:n.name,onChange:function(e){return s(Object(k.a)(Object(k.a)({},n),{},{name:e.target.value}))}}),c.a.createElement("div",{className:"red"},"Email:"),c.a.createElement("input",{type:"email",value:n.email,onChange:function(e){return s(Object(k.a)(Object(k.a)({},n),{},{email:e.target.value}))},required:!0}),c.a.createElement("div",null,p("ContactUs.phone"),":"),c.a.createElement("input",{type:"text",value:n.phone,onChange:function(e){return s(Object(k.a)(Object(k.a)({},n),{},{phone:e.target.value}))}}),c.a.createElement("div",{className:"red"},"Message:"),c.a.createElement("textarea",{type:"text",value:n.message,onChange:function(e){return s(Object(k.a)(Object(k.a)({},n),{},{message:e.target.value}))},className:"textarea",rows:6,cols:20,required:!0}),c.a.createElement("button",{type:"submit",className:"submit"},p("ContactUs.submit")))),u.isOpen&&c.a.createElement(B,{isOpen:u.isOpen,msg:u.msg,severity:u.severity,onClose:function(){return m(i)}}))}function ue(){var e=Object(y.b)().t;return c.a.createElement("div",{className:"Events"},c.a.createElement(T,null),c.a.createElement("div",{className:"pageTitle"},e("Events.pageTitle")),c.a.createElement("div",{className:"events-contents"},c.a.createElement("img",{src:e("Events.img"),alt:""}),c.a.createElement("div",{className:"events-text"},e("Events.text"))))}function me(){var e=Object(y.b)().t;return c.a.createElement("div",{className:"Services"},c.a.createElement(T,null),c.a.createElement("div",{className:"pageTitle"},"Services"),c.a.createElement("div",{className:"services-contents"},c.a.createElement("div",{className:"service"},c.a.createElement("img",{src:"/images/rent-ipad.jpg",alt:""}),c.a.createElement("div",{className:"service-details"},c.a.createElement("div",{className:"service-title"},e("Services.title1")),c.a.createElement("div",{className:"service-text"},e("Services.text1")," "))),c.a.createElement("div",{className:"service"},c.a.createElement("div",{className:"service-details"},c.a.createElement("div",{className:"service-title"},e("Services.title2")),c.a.createElement("div",{className:"service-text"},e("Services.text2")," ")),c.a.createElement("img",{src:"/images/computer.jpg",alt:""})),c.a.createElement("div",{className:"service"},c.a.createElement("img",{src:"/images/copy.jpg",alt:""}),c.a.createElement("div",{className:"service-details"},c.a.createElement("div",{className:"service-title"},e("Services.title3")),c.a.createElement("div",{className:"service-text"},e("Services.text3"),c.a.createElement("div",null,e("Services.text3-1")," ")," ",c.a.createElement("div",null,e("Services.text3-2")," ")," ",c.a.createElement("div",null,e("Services.text3-3")," ")," ",c.a.createElement("div",null,e("Services.text3-4")," ")," "))),c.a.createElement("div",{className:"service"},c.a.createElement("div",{className:"service-details"},c.a.createElement("div",{className:"service-title"},e("Services.title4")),c.a.createElement("div",{className:"service-text"},e("Services.text4")," ")),c.a.createElement("img",{src:"/images/wifi.jpeg",alt:""})),c.a.createElement("div",{className:"service"},c.a.createElement("img",{src:"/images/room.jpg",alt:""}),c.a.createElement("div",{className:"service-details"},c.a.createElement("div",{className:"service-title"},e("Services.title5")),c.a.createElement("div",{className:"service-text"},e("Services.text5")," "))),c.a.createElement("div",{className:"service"},c.a.createElement("div",{className:"service-details"},c.a.createElement("div",{className:"service-title"},e("Services.title6")),c.a.createElement("div",{className:"service-text"},e("Services.text6")," ")),c.a.createElement("img",{src:"/images/card.jpg",alt:""}))))}var pe=function(){var e=Object(l.b)(),t=function(){var t=Object(h.a)(g.a.mark((function t(){var a,n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/sessions");case 2:return a=t.sent,t.next=5,a.text();case 5:n=t.sent,(r=JSON.parse(n)).success&&e({type:"LOGIN",username:r.email,name:r.name,userId:r.id});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(h.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/items");case 2:return a=t.sent,t.next=5,a.text();case 5:if(n=t.sent,!(n=JSON.parse(n)).success){t.next=11;break}return t.next=10,e({type:"GET_ITEMS",items:n.items});case 10:return t.abrupt("return");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){a()}),[]),Object(r.useEffect)((function(){t()}),[]),c.a.createElement(O.a,{className:"wrapper"},c.a.createElement("div",{className:"app"},c.a.createElement(I,null),c.a.createElement(C,null),c.a.createElement(N.a,{exact:!0,path:"/",component:P}),c.a.createElement(N.a,{exact:!0,path:"/Login",component:J}),c.a.createElement(N.a,{exact:!0,path:"/Logout",component:j}),c.a.createElement(N.a,{exact:!0,path:"/SignUp",component:Q}),c.a.createElement(N.a,{exact:!0,path:"/ItemsList",component:ae}),c.a.createElement(N.a,{exact:!0,path:"/Item-Details/:itemId",component:re}),c.a.createElement(N.a,{exact:!0,path:"/Profile/:userId",component:ce}),c.a.createElement(N.a,{exact:!0,path:"/Contact-Us",component:oe}),c.a.createElement(N.a,{exact:!0,path:"/Events",component:ue}),c.a.createElement(N.a,{exact:!0,path:"/Services",component:me}),c.a.createElement(w,null)))},de=a(67),Ee=a(77),ve=a(78);de.a.use(Ee.a).use(ve.a).use(y.a).init({fallbackLng:"en",debug:!0,whitelist:["en","fr"],interpolation:{escapeValue:!1}});de.a;i.a.render(c.a.createElement(l.a,{store:b},c.a.createElement(r.Suspense,{fallback:c.a.createElement("div",null,"Loading...")},c.a.createElement(pe,null))),document.getElementById("root"))},81:function(e,t,a){e.exports=a(115)},91:function(e,t,a){},93:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.c783ce5d.chunk.js.map